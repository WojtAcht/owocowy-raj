---
const reviews = [
  {
    name: "Ania",
    text: "Świetny, bardzo dobrze zaopatrzony warzywniak. Owoce i warzywa zawsze świeże. Obsługa przesympatyczna, pomocna i cierpliwa. Można składać zamówienia przez messengera co wiele ułatwia. Pani Ania bardzo dba o swoich klientów, pamięta o nich, dzięki czemu robiąc tam zakupy nie czuję się jak w sklepie, a jakbym wpadła na kawkę do dawnej znajomej \u2665\uFE0F Odkąd zaczęłam kupować u Ani bardzo rzadko kupuję warzywa i owoce w markecie :) Bardzo polecam \u2665\uFE0F",
    stars: 5,
  },
  {
    name: "Karolina",
    text: "Najlepszy warzywniak w okolicy - świeży asortyment, warzywa i owoce świetnie wyeksponowane, właścicielki zawsze uśmiechniete, ceny rozsądne. Polecam!",
    stars: 5,
  },
  {
    name: "Ola",
    text: "Tak! Jest to prawdziwy RAJ! \u2764\uFE0F\uD83C\uDF40 Owoce oraz warzywa świeże oraz bardzo smaczne, bardzo szeroki wybór, pięknie wyeksponowane, aż by się chciało wszystkiego spróbować! Obsługa bardzo miła, możliwość zamawiania zakupów przez internet, co bardzo ułatwia życie \uD83D\uDE0A Polecam bardzo Owocowy Raj \u2600\uFE0F\uD83C\uDF49\uD83E\uDD55\uD83E\uDD66",
    stars: 5,
  },
  {
    name: "Wiesława",
    text: "Najlepszy sklep. Najczęściej odwiedzany. Zawsze jestem zadowolona.",
    stars: 5,
  },
  {
    name: "Aleksander",
    text: "Świetne miejsce, które oferuje przepyszne owoce o warzywa. Właścicielka to urocza Pani z którą zawsze można pokonwersować. Ceny nie są najniższe ale płaci się za jakość! Gorąco polecam! Lata mijają a opinia ciągle aktualna!",
    stars: 5,
  },
  {
    name: "Jarosław",
    text: "To jeden z najlepszych warzywnych sklepów w Katowicach. W środku pachnie warzywami i owocami. Obsługa uśmiechnięta i miła. Polecam w 100%",
    stars: 5,
  },
];
---

<section id="wspolpraca" class="relative py-24 md:py-32 bg-cream-dark overflow-hidden">
  <!-- Decorative background -->
  <div class="absolute top-10 right-0 w-80 h-80 bg-green-light/5 rounded-full blur-3xl"></div>
  <div class="absolute bottom-20 left-0 w-72 h-72 bg-orange/5 rounded-full blur-3xl"></div>

  <div class="relative max-w-6xl mx-auto px-6">
    <!-- Section header -->
    <div class="text-center mb-16">
      <span class="reveal inline-block text-orange text-sm tracking-[0.2em] uppercase font-semibold mb-4">Współpraca i opinie</span>
      <h2 class="reveal reveal-delay-1 font-heading font-black text-4xl md:text-5xl text-green-dark mb-6 leading-tight">
        Zaufali nam
      </h2>
      <div class="reveal reveal-delay-2 text-green-dark/60 max-w-3xl mx-auto text-lg space-y-3">
        <p>
          Współpracujemy z restauracjami, kawiarniami, szkołami, przedszkolami i firmami. Dostarczamy świeże owoce i warzywa — jednorazowo lub w stałej współpracy.
        </p>
        <p>
          Zapewniamy sprawną dostawę, stałą jakość i elastyczne zamówienia dopasowane do menu oraz bieżących potrzeb.
        </p>
      </div>
    </div>

    <!-- Reviews heading -->
    <div class="text-center mb-12">
      <h3 class="reveal font-heading font-bold text-2xl md:text-3xl text-green-dark mb-3">
        Opinie naszych klientów
      </h3>
      <p class="reveal reveal-delay-1 text-green-dark/50 text-sm flex items-center justify-center gap-2">
        <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none">
          <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z" fill="currentColor" opacity="0.3"/>
          <path d="M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67V7z" fill="currentColor"/>
        </svg>
        Opinie z Google Maps
      </p>
    </div>

    <!-- Reviews carousel -->
    <div class="reveal reveal-delay-1 relative">
      <!-- Scroll container -->
      <div id="reviews-scroll" class="flex gap-6 overflow-x-auto pb-4 snap-x snap-mandatory scrollbar-hide">
        {reviews.map((review) => (
          <div class="snap-start shrink-0 w-[320px] md:w-[360px]">
            <div class="relative bg-white rounded-3xl p-7 border border-white/40 h-full flex flex-col shadow-sm hover:shadow-md transition-shadow duration-300">
              <!-- Stars -->
              <div class="flex gap-0.5 mb-4">
                {Array.from({ length: review.stars }).map(() => (
                  <svg class="w-4 h-4 text-orange" viewBox="0 0 20 20" fill="currentColor">
                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                  </svg>
                ))}
              </div>

              <!-- Review text -->
              <p class="text-green-dark/70 leading-relaxed text-sm flex-1 mb-5">
                "{review.text}"
              </p>

              <!-- Author -->
              <div class="flex items-center gap-3 pt-4 border-t border-green-dark/5">
                <div class="w-9 h-9 bg-green-dark/5 rounded-full flex items-center justify-center">
                  <span class="text-green-mid font-semibold text-sm">{review.name[0]}</span>
                </div>
                <span class="font-semibold text-green-dark text-sm">{review.name}</span>
              </div>
            </div>
          </div>
        ))}
      </div>

      <!-- Navigation arrows -->
      <button
        id="reviews-prev"
        class="hidden md:flex absolute -left-5 top-1/2 -translate-y-1/2 w-10 h-10 bg-white rounded-full shadow-md items-center justify-center text-green-dark hover:bg-green-dark hover:text-cream transition-colors duration-300 z-10"
        aria-label="Poprzednia opinia"
      >
        <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" />
        </svg>
      </button>
      <button
        id="reviews-next"
        class="hidden md:flex absolute -right-5 top-1/2 -translate-y-1/2 w-10 h-10 bg-white rounded-full shadow-md items-center justify-center text-green-dark hover:bg-green-dark hover:text-cream transition-colors duration-300 z-10"
        aria-label="Następna opinia"
      >
        <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5" />
        </svg>
      </button>
    </div>
  </div>
</section>

<style>
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
</style>

<script>
  const scroll = document.getElementById("reviews-scroll");
  const prev = document.getElementById("reviews-prev");
  const next = document.getElementById("reviews-next");
  const cardWidth = 360 + 24; // card width + gap

  prev?.addEventListener("click", () => {
    scroll?.scrollBy({ left: -cardWidth, behavior: "smooth" });
  });
  next?.addEventListener("click", () => {
    scroll?.scrollBy({ left: cardWidth, behavior: "smooth" });
  });
</script>
